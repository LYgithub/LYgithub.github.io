---
title: è®¾è®¡æ¨¡å¼-å»ºé€ è€…æ¨¡å¼
categories: è®¾è®¡æ¨¡å¼
abbrlink: 2a48474d
date: 2020-07-17 17:35:03
tags:
	- è®¾è®¡æ¨¡å¼
---

> å½“å•ä¸ªå¯¹è±¡åŒ…å«å¤šä¸ªå†…éƒ¨æˆå‘˜ï¼Œå¹¶ä¸”æˆå‘˜åˆ›å»ºè¾ƒä¸ºå¤æ‚ï¼Œç”šè‡³æˆå‘˜åˆ›å»ºæœ‰ä¸€å®šé¡ºåºæ—¶ï¼Œéœ€è¦`Builder`è®¾è®¡æ¨¡å¼ã€‚

<!-- more -->

## ç¤ºä¾‹ 1

æˆ‘ä»¬å‡è®¾ä¸€ä¸ªå¿«é¤åº—çš„å•†ä¸šæ¡ˆä¾‹ï¼Œå…¶ä¸­ï¼Œä¸€ä¸ªå…¸å‹çš„å¥—é¤å¯ä»¥æ˜¯ä¸€ä¸ªæ±‰å ¡ï¼ˆBurgerï¼‰å’Œä¸€æ¯å†·é¥®ï¼ˆCold drinkï¼‰ã€‚

æ±‰å ¡ï¼ˆBurgerï¼‰å¯ä»¥æ˜¯ç´ é£Ÿæ±‰å ¡ï¼ˆVeg Burgerï¼‰æˆ–é¸¡è‚‰æ±‰å ¡ï¼ˆChicken Burgerï¼‰ï¼Œå®ƒä»¬æ˜¯åŒ…åœ¨çº¸ç›’ä¸­ã€‚

å†·é¥®ï¼ˆCold drinkï¼‰å¯ä»¥æ˜¯å¯å£å¯ä¹ï¼ˆcokeï¼‰æˆ–ç™¾äº‹å¯ä¹ï¼ˆpepsiï¼‰ï¼Œå®ƒä»¬æ˜¯è£…åœ¨ç“¶å­ä¸­ã€‚

æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªè¡¨ç¤ºé£Ÿç‰©æ¡ç›®ï¼ˆæ¯”å¦‚æ±‰å ¡å’Œå†·é¥®ï¼‰çš„ Item æ¥å£å’Œå®ç° Item æ¥å£çš„å®ä½“ç±»ï¼Œä»¥åŠä¸€ä¸ªè¡¨ç¤ºé£Ÿç‰©åŒ…è£…çš„ Packing æ¥å£å’Œå®ç° Packing æ¥å£çš„å®ä½“ç±»ï¼Œæ±‰å ¡æ˜¯åŒ…åœ¨çº¸ç›’ä¸­ï¼Œå†·é¥®æ˜¯è£…åœ¨ç“¶å­ä¸­ã€‚

ç„¶åæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª Meal ç±»ï¼Œå¸¦æœ‰ Item çš„ ArrayList å’Œä¸€ä¸ªé€šè¿‡ç»“åˆ Item æ¥åˆ›å»ºä¸åŒç±»å‹çš„ Meal å¯¹è±¡çš„ MealBuilderã€‚BuilderPatternDemoï¼Œæˆ‘ä»¬çš„æ¼”ç¤ºç±»ä½¿ç”¨ MealBuilder æ¥åˆ›å»ºä¸€ä¸ª Mealã€‚

![](https://gitee.com/KawYang/image/raw/master/img/20200712155953.png)



## ç¤ºä¾‹ 2

Computer æ„å»ºéœ€è¦ ä¸»æ¿ã€æ˜¾å¡ã€æ“ä½œç³»ç»Ÿã€‚

### :arrow_double_up: Computer æŠ½è±¡ç±»

åŒ…æ‹¬ `mBoard`ã€`mDisplay`ã€`mOS` ä¸‰ä¸ªæˆå‘˜å˜é‡ã€‚

```java
package è®¾è®¡æ¨¡å¼.åˆ›é€ è€…æ¨¡å¼.computer;

public abstract class Computer {
    protected String mBoard;
    protected String mDisplay;
    protected String mOs;

    protected Computer(){}

    public void setmBoard(String mBoard) {
        this.mBoard = mBoard;
    }

    public void setmDisplay(String mDisplay) {
        this.mDisplay = mDisplay;
    }

    public abstract void setOs();

    @Override
    public String toString() {
        return "Computer{" +
                "mBoard='" + mBoard + '\'' +
                ", mDisplay='" + mDisplay + '\'' +
                ", mOs='" + mOs + '\'' +
                '}';
    }
}

```



### ğŸ’»å®ç°ç±»

> å®ç°æŠ½è±¡ç±»ä¸­çš„æ–¹æ³•

```java
package è®¾è®¡æ¨¡å¼.åˆ›é€ è€…æ¨¡å¼.computer;

public class MacBook extends Computer{
    @Override
    public void setOs() {
        mOs = "Mac OS X 12.x";
    }
}
```

### :building_construction: Builder

> å®šä¹‰ `Computer` éƒ¨ä»¶åˆ›å»ºæ–¹æ³•

```java
package è®¾è®¡æ¨¡å¼.åˆ›é€ è€…æ¨¡å¼.computer;

/**
 * @author LiYang
 * @Project Name: Javaè®¾è®¡æ¨¡å¼
 * @Package Name: è®¾è®¡æ¨¡å¼.åˆ›é€ è€…æ¨¡å¼.computer
 * Created by MacBook Air on 2020/07/12.
 * Copyright Â© 2020 LiYang. All rights reserved.
 */
@SuppressWarnings("all")
public abstract class Builder {
    abstract void buildBoard(String board);
    abstract void buildDisplay(String display);
    abstract void buildOs();
    abstract Computer build();
}

```

### :factory: ComputerBuilder

> æ ¹æ®ä¸åŒçš„ç”µè„‘ç±»å‹å®Œæˆä¸åŒçš„åˆ›å»º

```java
package è®¾è®¡æ¨¡å¼.åˆ›é€ è€…æ¨¡å¼.computer;

public class MacBookBuilder extends Builder{
    private MacBook macBook = new MacBook();

    @Override
    void buildBoard(String board) {
        macBook.setmBoard(board);
    }

    @Override
    void buildDisplay(String display) {
        macBook.setmDisplay(display);
    }

    @Override
    void buildOs() {
        macBook.setOs();
    }

    @Override
    Computer build() {
        return macBook;
    }
}

```



### :diamond_shape_with_a_dot_inside: Director

> æ§åˆ¶éƒ¨ä»¶åˆ›å»ºé¡ºåº

> æ„é€ å‚æ•°éœ€è¦ `Builder` å¯¹è±¡

```java
package è®¾è®¡æ¨¡å¼.åˆ›é€ è€…æ¨¡å¼.computer;

public class Director {
    Builder builder;
    protected Director(Builder builder){
        this.builder = builder;
    }

    // åˆ›å»ºå†…éƒ¨éƒ¨ä»¶
    protected Computer construct(String board, String disPlay){
        builder.buildBoard(board);
        builder.buildDisplay(disPlay);
        builder.buildOs();
        // è¿”å› Builder å¯¹è±¡ä¸­ç”µè„‘å¯¹è±¡
        return builder.build();
    }
}

```

### :white_check_mark: æµ‹è¯•ç±»

```java
public class Test {
    @org.junit.Test
    public void test1(){
        Builder builder = new MacBookBuilder();
        Director director = new Director(builder);
        Computer construct = director.construct("ä¸»æ¿", "Inter");
        System.out.println(construct.toString());

        builder = new HonerComputerBuilder();
        director = new Director(builder);
        Computer computer = director.construct("ä¸»æ¿CN", "Inter");
        System.out.println(computer.toString());

    }
}
```
![](https://raw.githubusercontent.com/LYgithub/image/master/img/20200717174853.png)


